@page "/chat"

<PageTitle>Chat</PageTitle>

<button @onclick="AddInteraction">Add Item</button>

<ul>
    @foreach (var item in Items)
    {
        <ChatInteractionCard Item="item" />
    }
</ul>

<div style="position: absolute; bottom: 0; left: 0; width: 100%; height: 50px; background-color: #f2f2f2; z-index: 1;">
    <input type="text" @bind-value="@Ask" style="width: 80%; margin: 10px;" />
    <button @onclick="AddInteraction" style="margin: 10px;">Add</button>
</div>

@code {
    public List<ChatInteraction> Items { get; set; } = new List<ChatInteraction>();
    public string Ask { get; set; } = string.Empty;

    int idx = 1;
    void AddInteraction()
    {
        Items.Add(new ChatInteraction(
            $"my question #{idx++} was '{Ask}'",
            $"their answer at {DateTime.Now}",
            TimeSpan.FromSeconds(2.3)
        ));
    }

    ChatInteraction Test { get; set; } = new ChatInteraction(
            "my question",
            "their answer",
            TimeSpan.FromSeconds(2.3)
        );


}